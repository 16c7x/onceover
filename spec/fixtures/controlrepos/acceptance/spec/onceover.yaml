classes:
  - '/role::/'

nodes:
  - Debian-6.0.10-64:
      provisioner: docker
      platform: debian:8
      # Tasks (as in bolt tasks) to run after the install
      post-build-tasks:
        - name: package
          parameters:
            action: install
            name: curl
  - CentOS-7.0-64:
      provisioner: docker_exp
      platform: centos:7
  - Name-Doesnt-Map:
      provisioner: docker
      platform: centos:6
  - Windows_Server-2012r2-64
  - Ubuntu-14.04-64:
      provisioner: docker
      platform: ubuntu:14.04


node_groups:
  spec_nodes:
    - CentOS-7.0-64
    - Windows_Server-2012r2-64
    - Debian-6.0.10-64
    - Ubuntu-14.04-64
  acceptance_nodes:
    - CentOS-7.0-64
    - Name-Doesnt-Map
    - Debian-6.0.10-64
    - Ubuntu-14.04-64

class_groups:


test_matrix:
  # Main spec tests for all CentOS roles
  - all_nodes:
      classes: 'all_classes'
      tests: 'all_tests'
      tags:
        - all
  - spec_nodes:
      classes: 'all_classes'
      tests: 'spec'
      tags:
        - spec
  - acceptance_nodes:
      classes: 'all_classes'
      tests: 'acceptance'
      tags:
        - acceptance

